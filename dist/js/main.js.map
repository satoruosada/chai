{"version":3,"sources":["main.js"],"names":["document","addEventListener","main","Main","header","querySelector","sides","querySelectorAll","_observers","_init","val","push","Pace","on","_paceDone","bind","_scrollInit","el","inview","classList","add","remove","forEach","side","ta","TweenTextAnimation","animate","hero","start","stop","observers","ob","destroy","_destroyObservers","ScrollObserver","_navAnimation","once","_inviewAnimation","_textAnimation","rootMargin","$","btn","window","scrollTop","addClass","removeClass","height","position","innerHeight","footer","click","speed","href","attr","target","offset","top"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    const main = new Main();\r\n});\r\n\r\nclass Main {\r\n    constructor() {\r\n        this.header = document.querySelector('.header');\r\n        this.sides = document.querySelectorAll('.side');\r\n        this._observers = [];\r\n        this._init();\r\n    }\r\n\r\n    set observers(val) {\r\n        this._observers.push(val);\r\n    }\r\n\r\n    get observers() {\r\n        return this._observers;\r\n    }\r\n\r\n    _init() {\r\n        // new MobileMenu();\r\n        // this.hero = new HeroSlider('.swiper-container');\r\n        Pace.on('done', this._paceDone.bind(this));\r\n    }\r\n\r\n    _paceDone() {\r\n        this._scrollInit();\r\n    }\r\n\r\n    _inviewAnimation(el, inview) {\r\n        if(inview) {\r\n            el.classList.add('inview');\r\n        }else {\r\n            el.classList.remove('inview');\r\n        }\r\n    }\r\n\r\n    _navAnimation(el, inview) {\r\n        if(inview) {\r\n            this.header.classList.remove('triggered');\r\n        } else {\r\n            this.header.classList.add('triggered');\r\n        }\r\n    }\r\n\r\n    _sideAnimation(el, inview) {\r\n        if(inview) {\r\n            this.sides.forEach(side => side.classList.add('inview'));\r\n        } else {\r\n            this.sides.forEach(side => side.classList.remove('inview'));\r\n        }\r\n    }\r\n\r\n    _textAnimation(el, inview) {\r\n        if(inview) {\r\n            const ta = new TweenTextAnimation(el);\r\n            ta.animate();\r\n        }\r\n    }\r\n\r\n    _toggleSlideAnimation(el, inview) {\r\n        if(inview) {\r\n            this.hero.start();\r\n        } else {\r\n            this.hero.stop();\r\n        }\r\n    }\r\n\r\n    _destroyObservers() {\r\n        this.observers.forEach(ob => {\r\n            ob.destroy();\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        this._destroyObservers();\r\n    }\r\n\r\n    _scrollInit() {\r\n        this.observers = new ScrollObserver('.nav-trigger', this._navAnimation.bind(this), {once: false});\r\n        this.observers = new ScrollObserver('.cover-slide', this._inviewAnimation);\r\n        this.observers = new ScrollObserver('.appear', this._inviewAnimation);\r\n        this.observers = new ScrollObserver('.tween-animate-title', this._textAnimation, {rootMargin: \"-200px 0px\"});\r\n        // this.observers = new ScrollObserver('.swiper-container', this._toggleSlideAnimation.bind(this), {once: false});\r\n        // this.observers = new ScrollObserver('#main-content', this._sideAnimation.bind(this), {once: false, rootMargin: \"-300px 0px\"});\r\n    }\r\n}\r\n\r\n\r\n// フッタースクロールボタン\r\n$(function() {\r\n    // 変数にクラスを入れる\r\n    var btn = $('.button');\r\n  \r\n    //スクロールしてページトップから100に達したらボタンを表示\r\n    $(window).on('load scroll', function(){\r\n      if($(this).scrollTop() > 100) {\r\n        btn.addClass('active');\r\n      }else{\r\n        btn.removeClass('active');\r\n      }\r\n    });\r\n  \r\n    //フッターの手前でボタンを止める\r\n    $(window).on('load scroll', function(){\r\n      var height = $(document).height(), //ドキュメントの高さ\r\n          position = window.innerHeight + $(window).scrollTop(), //ページトップから現在地までの高さ\r\n          footer = $('footer').height(); //フッターの高さ\r\n      if ( height - position  < footer ){\r\n        btn.addClass('absolute');\r\n      } else {\r\n        btn.removeClass('absolute');\r\n      }\r\n    });\r\n    \r\n    //スクロールしてトップへ戻る\r\n    btn.on('click',function () {\r\n      $('body,html').animate({\r\n        scrollTop: 0\r\n      });\r\n    });\r\n  });\r\n\r\n\r\n// aタグスムーズスクロール\r\n  $(function(){\r\n    // #で始まるアンカーをクリックした場合に処理\r\n    $('a[href^=#]').click(function() {\r\n       // スクロールの速度\r\n       var speed = 400; // ミリ秒\r\n       // アンカーの値取得\r\n       var href= $(this).attr(\"href\");\r\n       // 移動先を取得\r\n       var target = $(href == \"#\" || href == \"\" ? 'html' : href);\r\n       // 移動先を数値で取得\r\n       var position = target.offset().top;\r\n       // スムーススクロール\r\n       $('body,html').animate({scrollTop:position}, speed, 'swing');\r\n       return false;\r\n    });\r\n });\r\n\r\n"],"file":"main.js"}